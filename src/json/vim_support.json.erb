{
    "title": "Vim support (rev 4.2)",
    "rules": [
        {
            "description": "Vim support [ASFG as Trigger Key]",
            "manipulators": [
                <%# -------------------------------------------------- %>
                <%# press s to enter Vi Mode, release to quit %>
                <%# -------------------------------------------------- %>
                {
                    "type": "basic",
                    "from": <%= from("a", [], ["any"]) %>,
                    "to": [
                        { "set_variable": { "name": "vi_mode_a", "value": 1 } }
                    ],
                    "to_if_alone": <%= to([["a"]]) %>,
                    "to_after_key_up": [
                        { "set_variable": { "name": "vi_mode_a", "value": 0 } }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("s", [], ["any"]) %>,
                    "to": [
                        { "set_variable": { "name": "vi_mode_s", "value": 1 } }
                    ],
                    "to_if_alone": <%= to([["s"]]) %>,
                    "to_after_key_up": [
                        { "set_variable": { "name": "vi_mode_s", "value": 0 } }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f", [], ["any"]) %>,
                    "to": [
                        { "set_variable": { "name": "vi_mode_f", "value": 1 } }
                    ],
                    "to_if_alone": <%= to([["f"]]) %>,
                    "to_after_key_up": [
                        { "set_variable": { "name": "vi_mode_f", "value": 0 } }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("g", [], ["any"]) %>,
                    "to": [
                        { "set_variable": { "name": "vi_mode_g", "value": 1 } }
                    ],
                    "to_if_alone": <%= to([["g"]]) %>,
                    "to_after_key_up": [
                        { "set_variable": { "name": "vi_mode_g", "value": 0 } }
                    ]
                },

                <%= block("a", "vi_mode_a", "hyphen") %>,
                <%= block("a", "vi_mode_a", "equal_sign") %>,
                <%= block("a", "vi_mode_a", "open_bracket") %>,
                <%= block("a", "vi_mode_a", "close_bracket") %>,
                <%= block("a", "vi_mode_a", "backslash") %>,
                <%= block("a", "vi_mode_a", "non_us_pound") %>,
                <%= block("a", "vi_mode_a", "semicolon") %>,
                <%= block("a", "vi_mode_a", "quote") %>,
                <%= block("a", "vi_mode_a", "grave_accent_and_tilde") %>,
                <%= block("a", "vi_mode_a", "comma") %>,
                <%= block("a", "vi_mode_a", "period") %>,
                <%= block("a", "vi_mode_a", "slash") %>,
                <%= block("a", "vi_mode_a", "non_us_backslash") %>,
                <%= block("a", "vi_mode_a", "1") %>,
                <%= block("a", "vi_mode_a", "2") %>,
                <%= block("a", "vi_mode_a", "3") %>,
                <%= block("a", "vi_mode_a", "4") %>,
                <%= block("a", "vi_mode_a", "5") %>,
                <%= block("a", "vi_mode_a", "6") %>,
                <%= block("a", "vi_mode_a", "7") %>,
                <%= block("a", "vi_mode_a", "8") %>,
                <%= block("a", "vi_mode_a", "9") %>,
                <%= block("a", "vi_mode_a", "a") %>,
                <%= block("a", "vi_mode_a", "b") %>,
                <%= block("a", "vi_mode_a", "c") %>,
                <%= block("a", "vi_mode_a", "d") %>,
                <%= block("a", "vi_mode_a", "e") %>,
                <%= block("a", "vi_mode_a", "f") %>,
                <%= block("a", "vi_mode_a", "g") %>,
                <%= block("a", "vi_mode_a", "h") %>,
                <%= block("a", "vi_mode_a", "i") %>,
                <%= block("a", "vi_mode_a", "j") %>,
                <%= block("a", "vi_mode_a", "k") %>,
                <%= block("a", "vi_mode_a", "l") %>,
                <%= block("a", "vi_mode_a", "m") %>,
                <%= block("a", "vi_mode_a", "n") %>,
                <%= block("a", "vi_mode_a", "o") %>,
                <%= block("a", "vi_mode_a", "p") %>,
                <%= block("a", "vi_mode_a", "q") %>,
                <%= block("a", "vi_mode_a", "r") %>,
                <%= block("a", "vi_mode_a", "s") %>,
                <%= block("a", "vi_mode_a", "t") %>,
                <%= block("a", "vi_mode_a", "u") %>,
                <%= block("a", "vi_mode_a", "v") %>,
                <%= block("a", "vi_mode_a", "w") %>,
                <%= block("a", "vi_mode_a", "x") %>,
                <%= block("a", "vi_mode_a", "y") %>,
                <%= block("a", "vi_mode_a", "z") %>,

                <%= block("s", "vi_mode_s", "hyphen") %>,
                <%= block("s", "vi_mode_s", "equal_sign") %>,
                <%= block("s", "vi_mode_s", "open_bracket") %>,
                <%= block("s", "vi_mode_s", "close_bracket") %>,
                <%= block("s", "vi_mode_s", "backslash") %>,
                <%= block("s", "vi_mode_s", "non_us_pound") %>,
                <%= block("s", "vi_mode_s", "semicolon") %>,
                <%= block("s", "vi_mode_s", "quote") %>,
                <%= block("s", "vi_mode_s", "grave_accent_and_tilde") %>,
                <%= block("s", "vi_mode_s", "comma") %>,
                <%= block("s", "vi_mode_s", "period") %>,
                <%= block("s", "vi_mode_s", "slash") %>,
                <%= block("s", "vi_mode_s", "non_us_backslash") %>,
                <%= block("s", "vi_mode_s", "1") %>,
                <%= block("s", "vi_mode_s", "2") %>,
                <%= block("s", "vi_mode_s", "3") %>,
                <%= block("s", "vi_mode_s", "4") %>,
                <%= block("s", "vi_mode_s", "5") %>,
                <%= block("s", "vi_mode_s", "6") %>,
                <%= block("s", "vi_mode_s", "7") %>,
                <%= block("s", "vi_mode_s", "8") %>,
                <%= block("s", "vi_mode_s", "9") %>,
                <%= block("s", "vi_mode_s", "a") %>,
                <%= block("s", "vi_mode_s", "b") %>,
                <%= block("s", "vi_mode_s", "c") %>,
                <%= block("s", "vi_mode_s", "d") %>,
                <%= block("s", "vi_mode_s", "e") %>,
                <%= block("s", "vi_mode_s", "f") %>,
                <%= block("s", "vi_mode_s", "g") %>,
                <%= block("s", "vi_mode_s", "h") %>,
                <%= block("s", "vi_mode_s", "i") %>,
                <%= block("s", "vi_mode_s", "j") %>,
                <%= block("s", "vi_mode_s", "k") %>,
                <%= block("s", "vi_mode_s", "l") %>,
                <%= block("s", "vi_mode_s", "m") %>,
                <%= block("s", "vi_mode_s", "n") %>,
                <%= block("s", "vi_mode_s", "o") %>,
                <%= block("s", "vi_mode_s", "p") %>,
                <%= block("s", "vi_mode_s", "q") %>,
                <%= block("s", "vi_mode_s", "r") %>,
                <%= block("s", "vi_mode_s", "s") %>,
                <%= block("s", "vi_mode_s", "t") %>,
                <%= block("s", "vi_mode_s", "u") %>,
                <%= block("s", "vi_mode_s", "v") %>,
                <%= block("s", "vi_mode_s", "w") %>,
                <%= block("s", "vi_mode_s", "x") %>,
                <%= block("s", "vi_mode_s", "y") %>,
                <%= block("s", "vi_mode_s", "z") %>,

                <%= block("f", "vi_mode_f", "hyphen") %>,
                <%= block("f", "vi_mode_f", "equal_sign") %>,
                <%= block("f", "vi_mode_f", "open_bracket") %>,
                <%= block("f", "vi_mode_f", "close_bracket") %>,
                <%= block("f", "vi_mode_f", "backslash") %>,
                <%= block("f", "vi_mode_f", "non_us_pound") %>,
                <%= block("f", "vi_mode_f", "semicolon") %>,
                <%= block("f", "vi_mode_f", "quote") %>,
                <%= block("f", "vi_mode_f", "grave_accent_and_tilde") %>,
                <%= block("f", "vi_mode_f", "comma") %>,
                <%= block("f", "vi_mode_f", "period") %>,
                <%= block("f", "vi_mode_f", "slash") %>,
                <%= block("f", "vi_mode_f", "non_us_backslash") %>,
                <%= block("f", "vi_mode_f", "1") %>,
                <%= block("f", "vi_mode_f", "2") %>,
                <%= block("f", "vi_mode_f", "3") %>,
                <%= block("f", "vi_mode_f", "4") %>,
                <%= block("f", "vi_mode_f", "5") %>,
                <%= block("f", "vi_mode_f", "6") %>,
                <%= block("f", "vi_mode_f", "7") %>,
                <%= block("f", "vi_mode_f", "8") %>,
                <%= block("f", "vi_mode_f", "9") %>,
                <%= block("f", "vi_mode_f", "a") %>,
                <%= block("f", "vi_mode_f", "b") %>,
                <%= block("f", "vi_mode_f", "c") %>,
                <%= block("f", "vi_mode_f", "d") %>,
                <%= block("f", "vi_mode_f", "e") %>,
                <%= block("f", "vi_mode_f", "f") %>,
                <%= block("f", "vi_mode_f", "g") %>,
                <%= block("f", "vi_mode_f", "h") %>,
                <%= block("f", "vi_mode_f", "i") %>,
                <%= block("f", "vi_mode_f", "j") %>,
                <%= block("f", "vi_mode_f", "k") %>,
                <%= block("f", "vi_mode_f", "l") %>,
                <%= block("f", "vi_mode_f", "m") %>,
                <%= block("f", "vi_mode_f", "n") %>,
                <%= block("f", "vi_mode_f", "o") %>,
                <%= block("f", "vi_mode_f", "p") %>,
                <%= block("f", "vi_mode_f", "q") %>,
                <%= block("f", "vi_mode_f", "r") %>,
                <%= block("f", "vi_mode_f", "s") %>,
                <%= block("f", "vi_mode_f", "t") %>,
                <%= block("f", "vi_mode_f", "u") %>,
                <%= block("f", "vi_mode_f", "v") %>,
                <%= block("f", "vi_mode_f", "w") %>,
                <%= block("f", "vi_mode_f", "x") %>,
                <%= block("f", "vi_mode_f", "y") %>,
                <%= block("f", "vi_mode_f", "z") %>,

                <%= block("g", "vi_mode_g", "hyphen") %>,
                <%= block("g", "vi_mode_g", "equal_sign") %>,
                <%= block("g", "vi_mode_g", "open_bracket") %>,
                <%= block("g", "vi_mode_g", "close_bracket") %>,
                <%= block("g", "vi_mode_g", "backslash") %>,
                <%= block("g", "vi_mode_g", "non_us_pound") %>,
                <%= block("g", "vi_mode_g", "semicolon") %>,
                <%= block("g", "vi_mode_g", "quote") %>,
                <%= block("g", "vi_mode_g", "grave_accent_and_tilde") %>,
                <%= block("g", "vi_mode_g", "comma") %>,
                <%= block("g", "vi_mode_g", "period") %>,
                <%= block("g", "vi_mode_g", "slash") %>,
                <%= block("g", "vi_mode_g", "non_us_backslash") %>,
                <%= block("g", "vi_mode_g", "1") %>,
                <%= block("g", "vi_mode_g", "2") %>,
                <%= block("g", "vi_mode_g", "3") %>,
                <%= block("g", "vi_mode_g", "4") %>,
                <%= block("g", "vi_mode_g", "5") %>,
                <%= block("g", "vi_mode_g", "6") %>,
                <%= block("g", "vi_mode_g", "7") %>,
                <%= block("g", "vi_mode_g", "8") %>,
                <%= block("g", "vi_mode_g", "9") %>,
                <%= block("g", "vi_mode_g", "a") %>,
                <%= block("g", "vi_mode_g", "b") %>,
                <%= block("g", "vi_mode_g", "c") %>,
                <%= block("g", "vi_mode_g", "d") %>,
                <%= block("g", "vi_mode_g", "e") %>,
                <%= block("g", "vi_mode_g", "f") %>,
                <%= block("g", "vi_mode_g", "g") %>,
                <%= block("g", "vi_mode_g", "h") %>,
                <%= block("g", "vi_mode_g", "i") %>,
                <%= block("g", "vi_mode_g", "j") %>,
                <%= block("g", "vi_mode_g", "k") %>,
                <%= block("g", "vi_mode_g", "l") %>,
                <%= block("g", "vi_mode_g", "m") %>,
                <%= block("g", "vi_mode_g", "n") %>,
                <%= block("g", "vi_mode_g", "o") %>,
                <%= block("g", "vi_mode_g", "p") %>,
                <%= block("g", "vi_mode_g", "q") %>,
                <%= block("g", "vi_mode_g", "r") %>,
                <%= block("g", "vi_mode_g", "s") %>,
                <%= block("g", "vi_mode_g", "t") %>,
                <%= block("g", "vi_mode_g", "u") %>,
                <%= block("g", "vi_mode_g", "v") %>,
                <%= block("g", "vi_mode_g", "w") %>,
                <%= block("g", "vi_mode_g", "x") %>,
                <%= block("g", "vi_mode_g", "y") %>,
                <%= block("g", "vi_mode_g", "z") %>
            ]
        }
    ]
}
